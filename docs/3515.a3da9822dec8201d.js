"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3515],{3515:(x,f,c)=>{c.r(f),c.d(f,{ContactsPageModule:()=>a});var r=c(9808),v=c(4992),Z=c(4182),p=c(4466),u=c(655),C=c(4850),T=c(6817),h=c(8790),t=c(2096),e=c(5362);function A(i,n){if(1&i){const o=t.EpF();t.TgZ(0,"ion-item"),t.TgZ(1,"div",9),t.TgZ(2,"div",10),t._uU(3),t.qZA(),t.TgZ(4,"div",11),t.TgZ(5,"ion-button",12),t.NdJ("click",function(){const l=t.CHM(o).$implicit;return t.oxw(2).showPublicKey(l.publicKey)}),t._UZ(6,"ion-icon",13),t.qZA(),t.TgZ(7,"ion-button",12),t.NdJ("click",function(){const l=t.CHM(o).$implicit;return t.oxw(2).deleteContact(l.id)}),t._UZ(8,"ion-icon",14),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&i){const o=n.$implicit;t.xp6(3),t.hij(" ",o.name," ")}}function y(i,n){1&i&&(t.TgZ(0,"div",15),t.TgZ(1,"h2"),t._uU(2,"No Contacts"),t.qZA(),t.qZA())}function P(i,n){if(1&i&&(t.TgZ(0,"div",5),t.TgZ(1,"ion-list",6),t.YNc(2,A,9,1,"ion-item",7),t.qZA(),t.YNc(3,y,3,0,"div",8),t.qZA()),2&i){const o=n.ngIf;t.xp6(2),t.Q6J("ngForOf",o),t.xp6(1),t.Q6J("ngIf",!o.length)}}class s{constructor(n,o,d){this.contactService=n,this.modalController=o,this.routerOutlet=d,this.contacts$=this.contactService.contacts$.pipe((0,C.U)(m=>m.sort((l,g)=>l.created-g.created)))}ngOnDestroy(){}addContact(){return(0,u.mG)(this,void 0,void 0,function*(){yield(yield this.modalController.create({component:T.S,swipeToClose:!0,presentingElement:this.routerOutlet.nativeEl})).present()})}showPublicKey(n){return(0,u.mG)(this,void 0,void 0,function*(){alert(n)})}deleteContact(n){return(0,u.mG)(this,void 0,void 0,function*(){window.confirm("Are you absolutely sure? This is unrecoverable.")&&this.contactService.removeContact(n)})}}s.\u0275fac=function(n){return new(n||s)(t.Y36(h.yq),t.Y36(e.IN),t.Y36(e.jP))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-contacts"]],decls:13,vars:3,consts:[["translucent","true"],["color","primary"],["class","contacts",4,"ngIf"],["expand","block",3,"click"],["name","add-circle-outline","slot","start"],[1,"contacts"],[1,"contact-list"],[4,"ngFor","ngForOf"],["class","contact-fallback",4,"ngIf"],[1,"contact"],[1,"contact-name"],[1,"buttons"],[3,"click"],["name","information-circle-outline"],["name","trash-outline"],[1,"contact-fallback"]],template:function(n,o){1&n&&(t.TgZ(0,"ion-header",0),t.TgZ(1,"ion-toolbar",1),t.TgZ(2,"ion-title"),t._uU(3," Saved Contacts "),t.qZA(),t.qZA(),t.qZA(),t.TgZ(4,"ion-content"),t.YNc(5,P,4,2,"div",2),t.ALo(6,"async"),t.qZA(),t.TgZ(7,"ion-footer"),t.TgZ(8,"ion-toolbar"),t.TgZ(9,"ion-button",3),t.NdJ("click",function(){return o.addContact()}),t._UZ(10,"ion-icon",4),t.TgZ(11,"ion-label"),t._uU(12,"Add Contact"),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&n&&(t.xp6(5),t.Q6J("ngIf",t.lcZ(6,1,o.contacts$)))},directives:[e.Gu,e.sr,e.wd,e.W2,r.O5,e.fr,e.YG,e.gu,e.Q$,e.q_,r.sg,e.Ie],pipes:[r.Ov],styles:[".contact-list[_ngcontent-%COMP%]   .contact[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between;align-items:center}.contact-fallback[_ngcontent-%COMP%]{margin:10px}"]});class a{}a.\u0275fac=function(n){return new(n||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[[r.ez,v.Bz.forChild([{path:"",component:s}]),Z.UX,p.m]]})}}]);