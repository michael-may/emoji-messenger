"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3515],{3515:(P,f,i)=>{i.r(f),i.d(f,{ContactsPageModule:()=>a});var r=i(9808),p=i(4030),Z=i(4182),C=i(4466),g=i(655),v=i(4850),_=i(6817),h=i(8790),t=i(9863),o=i(5362);function T(c,n){if(1&c){const e=t.EpF();t.TgZ(0,"ion-item"),t.TgZ(1,"div",10),t.TgZ(2,"div",11),t._uU(3),t.qZA(),t.TgZ(4,"div",12),t.TgZ(5,"ion-button",13),t.NdJ("click",function(){const l=t.CHM(e).$implicit;return t.oxw(3).showPublicKey(l.publicKey)}),t._UZ(6,"ion-icon",14),t.qZA(),t.TgZ(7,"ion-button",15),t.NdJ("click",function(){const l=t.CHM(e).$implicit;return t.oxw(3).deleteContact(l.id)}),t._UZ(8,"ion-icon",16),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&c){const e=n.$implicit;t.xp6(3),t.hij(" ",e.name," ")}}function y(c,n){if(1&c&&(t.TgZ(0,"ion-list",8),t.YNc(1,T,9,1,"ion-item",9),t.qZA()),2&c){const e=t.oxw().ngIf;t.xp6(1),t.Q6J("ngForOf",e)}}function A(c,n){1&c&&(t.TgZ(0,"div",17),t.TgZ(1,"h2"),t._uU(2,"No Contacts"),t.qZA(),t.TgZ(3,"p"),t._uU(4," Contacts are used to keep track of the public keys of the people you want to talk to. "),t.qZA(),t.TgZ(5,"p"),t._uU(6," Contacts can have any name you'd like, just make sure to make it something memorable. "),t.qZA(),t.TgZ(7,"p"),t._uU(8," Contacts can be imported by scanning the person's public key QR code, uploading an image of their QR code, or by manually adding their public key. "),t.qZA(),t.qZA())}function x(c,n){if(1&c&&(t.TgZ(0,"div",5),t.YNc(1,y,2,1,"ion-list",6),t.YNc(2,A,9,0,"div",7),t.qZA()),2&c){const e=n.ngIf;t.xp6(1),t.Q6J("ngIf",e.length),t.xp6(1),t.Q6J("ngIf",!e.length)}}class s{constructor(n,e,d){this.contactService=n,this.modalController=e,this.routerOutlet=d,this.contacts$=this.contactService.contacts$.pipe((0,v.U)(u=>u.sort((l,m)=>l.created-m.created)))}ngOnDestroy(){}addContact(){return(0,g.mG)(this,void 0,void 0,function*(){yield(yield this.modalController.create({component:_.S,swipeToClose:!0,presentingElement:this.routerOutlet.nativeEl})).present()})}showPublicKey(n){return(0,g.mG)(this,void 0,void 0,function*(){alert(n)})}deleteContact(n){return(0,g.mG)(this,void 0,void 0,function*(){window.confirm("Are you absolutely sure? This is unrecoverable without a backup.")&&this.contactService.removeContact(n)})}}s.\u0275fac=function(n){return new(n||s)(t.Y36(h.yq),t.Y36(o.IN),t.Y36(o.jP))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-contacts"]],decls:16,vars:3,consts:[["translucent","true"],["color","primary"],["class","contacts",4,"ngIf"],["expand","block",3,"click"],["name","person-add-outline","slot","start"],[1,"contacts"],["class","contact-list",4,"ngIf"],["class","contact-fallback",4,"ngIf"],[1,"contact-list"],[4,"ngFor","ngForOf"],[1,"contact"],[1,"contact-name"],[1,"buttons"],[3,"click"],["name","information-circle-outline"],["color","danger",3,"click"],["name","trash-outline"],[1,"contact-fallback"]],template:function(n,e){1&n&&(t.TgZ(0,"ion-header",0),t.TgZ(1,"ion-toolbar",1),t.TgZ(2,"ion-title"),t._uU(3," Saved Contacts "),t.qZA(),t.qZA(),t.qZA(),t.TgZ(4,"ion-content"),t.YNc(5,x,3,2,"div",2),t.ALo(6,"async"),t.qZA(),t.TgZ(7,"ion-footer"),t.TgZ(8,"ion-toolbar"),t.TgZ(9,"ion-grid"),t.TgZ(10,"ion-row"),t.TgZ(11,"ion-col"),t.TgZ(12,"ion-button",3),t.NdJ("click",function(){return e.addContact()}),t._UZ(13,"ion-icon",4),t.TgZ(14,"ion-label"),t._uU(15,"Add Contact"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&n&&(t.xp6(5),t.Q6J("ngIf",t.lcZ(6,1,e.contacts$)))},directives:[o.Gu,o.sr,o.wd,o.W2,r.O5,o.fr,o.jY,o.Nd,o.wI,o.YG,o.gu,o.Q$,o.q_,r.sg,o.Ie],pipes:[r.Ov],styles:[".contacts[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-start;align-items:center}.contacts[_ngcontent-%COMP%]   .contact-list[_ngcontent-%COMP%]{width:100%}.contacts[_ngcontent-%COMP%]   .contact-list[_ngcontent-%COMP%]   .contact[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between;align-items:center}.contacts[_ngcontent-%COMP%]   .contact-fallback[_ngcontent-%COMP%]{margin:10px;max-width:400px}"]});class a{}a.\u0275fac=function(n){return new(n||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[[r.ez,p.Bz.forChild([{path:"",component:s}]),Z.UX,C.m]]})}}]);