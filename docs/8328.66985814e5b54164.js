"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8328],{8328:(P,C,i)=>{i.r(C),i.d(C,{ContactsPageModule:()=>f});var d=i(1368),g=i(2324),p=i(4716),h=i(9280),u=i(1528),y=i(4704),v=i(4336),_=i(9252),t=i(4496),c=i(2112);function k(e,o){if(1&e){const n=t.KQA();t.I0R(0,"ion-item")(1,"div",10)(2,"div",11),t.OEk(3),t.C$Y(),t.I0R(4,"div",12)(5,"ion-button",13),t.qCj("click",function(){const s=t.usT(n).$implicit,r=t.GaO(3);return t.CGJ(r.showPublicKey(s.publicKey))}),t.wR5(6,"ion-icon",14),t.C$Y(),t.I0R(7,"ion-button",15),t.qCj("click",function(){const s=t.usT(n).$implicit,r=t.GaO(3);return t.CGJ(r.deleteContact(s.id))}),t.wR5(8,"ion-icon",16),t.C$Y()()()()}if(2&e){const n=o.$implicit;t.yG2(3),t.oRS(" ",n.name," ")}}function I(e,o){if(1&e&&(t.I0R(0,"ion-list",8),t.yuY(1,k,9,1,"ion-item",9),t.C$Y()),2&e){const n=t.GaO().ngIf;t.yG2(),t.E7m("ngForOf",n)}}function O(e,o){1&e&&(t.I0R(0,"div",17)(1,"h2"),t.OEk(2,"No Contacts"),t.C$Y(),t.I0R(3,"p"),t.OEk(4," Contacts are used to keep track of the public keys of the people you want to talk to. "),t.C$Y(),t.I0R(5,"p"),t.OEk(6," Contacts can have any name you'd like, just make sure to make it something memorable. "),t.C$Y(),t.I0R(7,"p"),t.OEk(8," Contacts can be imported by scanning the person's public key QR code, uploading an image of their QR code, or by manually adding their public key. "),t.C$Y()())}function b(e,o){if(1&e&&(t.I0R(0,"div",5),t.yuY(1,I,2,1,"ion-list",6)(2,O,9,0,"div",7),t.C$Y()),2&e){const n=o.ngIf;t.yG2(),t.E7m("ngIf",n.length),t.yG2(),t.E7m("ngIf",!n.length)}}class m{constructor(o,n,a){this.contactService=o,this.modalController=n,this.routerOutlet=a,this.contacts$=this.contactService.contacts$.pipe((0,y.k)(l=>l.sort((s,r)=>s.created-r.created)))}ngOnDestroy(){}addContact(){var o=this;return(0,u.c)(function*(){var a;yield(yield o.modalController.create({component:v.m,canDismiss:(a=(0,u.c)(function*(l,s){return"gesture"!==s}),function(s,r){return a.apply(this,arguments)}),presentingElement:o.routerOutlet.nativeEl})).present()})()}showPublicKey(o){return(0,u.c)(function*(){alert(o)})()}deleteContact(o){var n=this;return(0,u.c)(function*(){window.confirm("Are you absolutely sure? This is unrecoverable without a backup.")&&n.contactService.removeContact(o)})()}static#t=this.\u0275fac=function(n){return new(n||m)(t.GI1(_.gH),t.GI1(c.qS),t.GI1(c.Cg))};static#n=this.\u0275cmp=t.In1({type:m,selectors:[["app-contacts"]],decls:16,vars:3,consts:[["translucent","true"],["color","primary"],["class","contacts",4,"ngIf"],["expand","block",3,"click"],["name","person-add-outline","slot","start"],[1,"contacts"],["class","contact-list",4,"ngIf"],["class","contact-fallback",4,"ngIf"],[1,"contact-list"],[4,"ngFor","ngForOf"],[1,"contact"],[1,"contact-name"],[1,"buttons"],[3,"click"],["name","information-circle-outline"],["color","danger",3,"click"],["name","trash-outline"],[1,"contact-fallback"]],template:function(n,a){1&n&&(t.I0R(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-title"),t.OEk(3," Saved Contacts "),t.C$Y()()(),t.I0R(4,"ion-content"),t.yuY(5,b,3,2,"div",2),t.wVc(6,"async"),t.C$Y(),t.I0R(7,"ion-footer")(8,"ion-toolbar")(9,"ion-grid")(10,"ion-row")(11,"ion-col")(12,"ion-button",3),t.qCj("click",function(){return a.addContact()}),t.wR5(13,"ion-icon",4),t.I0R(14,"ion-label"),t.OEk(15,"Add Contact"),t.C$Y()()()()()()()),2&n&&(t.yG2(5),t.E7m("ngIf",t.kDX(6,1,a.contacts$)))},dependencies:[d.ay,d.u_,c.sn,c.Kk,c._i,c.eV,c.YP,c.wB,c.Ko,c.Yb,c.QR,c.OC,c.qo,c.tM,c.Md,d.a],styles:[".contacts[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-start;align-items:center}.contacts[_ngcontent-%COMP%]   .contact-list[_ngcontent-%COMP%]{width:100%}.contacts[_ngcontent-%COMP%]   .contact-list[_ngcontent-%COMP%]   .contact[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between;align-items:center}.contacts[_ngcontent-%COMP%]   .contact-fallback[_ngcontent-%COMP%]{margin:10px;max-width:400px}"]})}class f{static#t=this.\u0275fac=function(n){return new(n||f)};static#n=this.\u0275mod=t.a4G({type:f});static#o=this.\u0275inj=t.s3X({imports:[d.MD,g.qQ.forChild([{path:"",component:m}]),p.sl,h.k]})}}}]);